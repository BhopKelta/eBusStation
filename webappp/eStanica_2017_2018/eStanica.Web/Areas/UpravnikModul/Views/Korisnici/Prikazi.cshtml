@model KorisniciPrikazVM
@{
    ViewData["Title"] = "Prikazi";
}

<h2>Korisnici</h2>

<form asp-action="Prikazi">

    <div class="form-group">
        <div class="row">
            <div class="col-6 col-sm-6">
                @Html.LabelFor(x => x.Uloge, "Uloga")
                @Html.DropDownListFor(x => x.UlogaId, Model.Uloge, "Odaberite ulogu", new { onchange = "this.form.submit()", @class = "form-control" })
            </div>

            <div class="col-6 col-sm-6">
                @Html.LabelFor(x => x.Uloge, " ")
                <br/>
                @if (@Model.UlogaId != 0 && Model.UlogaId != 1)
                {
                    <a class="btn btn-secondary btn-sm" asp-route-Id="@Model.UlogaId" asp-action="Dodaj">Dodaj</a>
                }
                else
                {
                    <a class="btn btn-secondary btn-sm" asp-action="Dodaj" onclick="return false">Dodaj</a>

                }
            </div>

        </div>
    </div>
   
</form>


<table class="table">
    <tr>
        <th style="width: 400px">Korisničko ime</th>
        <th style="width: 400px">Ime i prezime</th>
        <th>Status</th>
    </tr>

    @foreach (var x in Model.Rows)
    {
        <tr>
            <td><a asp-controller="Korisnici" asp-action="Profil" asp-route-id="@x.Id">@x.Username</a></td>
            <td>@x.Ime @x.Prezime</td>
            <td>@x.Status</td>
        </tr>
    }

</table>
